(function(){
var r=function(){var e="function"==typeof require&&require,r=function(i,o,u){o||(o=0);var n=r.resolve(i,o),t=r.m[o][n];if(!t&&e){if(t=e(n))return t}else if(t&&t.c&&(o=t.c,n=t.m,t=r.m[o][t.m],!t))throw new Error('failed to require "'+n+'" from '+o);if(!t)throw new Error('failed to require "'+i+'" from '+u);return t.exports||(t.exports={},t.call(t.exports,t,t.exports,r.relative(n,o))),t.exports};return r.resolve=function(e,n){var i=e,t=e+".js",o=e+"/index.js";return r.m[n][t]&&t?t:r.m[n][o]&&o?o:i},r.relative=function(e,t){return function(n){if("."!=n.charAt(0))return r(n,t,e);var o=e.split("/"),f=n.split("/");o.pop();for(var i=0;i<f.length;i++){var u=f[i];".."==u?o.pop():"."!=u&&o.push(u)}return r(o.join("/"),t,e)}},r}();r.m = [];
r.m[0] = {
"microee": {"c":1,"m":"index.js"},
"index.js": function(module, exports, require){
var microee=require("microee"),ondone=require("ondone");var delay=typeof setImmediate==="function"?function(fn){setImmediate(fn)}:process&&typeof process.nextTick==="function"?process.nextTick:setTimeout;function Parallel(limit){this.limit=limit||Infinity;this.running=0;this.tasks=[];this.maxStack=50}microee.mixin(Parallel);Parallel.prototype.isFull=function(){return this.running>=this.limit};Parallel.prototype.isEmpty=function(){return this.running===0&&this.tasks.length===0};Parallel.prototype.exec=function(tasks,onDone){if(!tasks||Array.isArray(tasks)&&tasks.length===0){onDone&&onDone();return this}if(onDone){tasks=ondone(tasks,onDone)}this.tasks=this.tasks.concat(tasks);this._next(1);return this};Parallel.prototype._next=function(depth){if(this.isEmpty()){this.emit("empty")}while(!this.isFull()&&this.tasks.length>0){this.running++;this._runTask(this.tasks.shift(),depth+1)}};Parallel.prototype._runTask=function(task,depth){var self=this;function run(){task(function(err){self.running--;if(err){return self.emit("error",err,task)}self.emit("done",task);self._next(depth)})}if(depth>this.maxStack){depth=0;delay(run,0)}else{run()}};module.exports=function(limit,tasks,onDone){var p=new Parallel(limit);delay(function(){p.exec(tasks,onDone)});return p};
}
};
r.m[1] = {
"index.js": function(module, exports, require){
function M(){this._events={}}M.prototype={on:function(ev,cb){this._events||(this._events={});var e=this._events;(e[ev]||(e[ev]=[])).push(cb);return this},removeListener:function(ev,cb){var e=this._events[ev]||[],i;for(i=e.length-1;i>=0&&e[i];i--){if(e[i]===cb||e[i].cb===cb){e.splice(i,1)}}},removeAllListeners:function(ev){if(!ev){this._events={}}else{this._events[ev]&&(this._events[ev]=[])}},listeners:function(ev){return this._events?this._events[ev]||[]:[]},emit:function(ev){this._events||(this._events={});var args=Array.prototype.slice.call(arguments,1),i,e=this._events[ev]||[];for(i=e.length-1;i>=0&&e[i];i--){e[i].apply(this,args)}return this},when:function(ev,cb){return this.once(ev,cb,true)},once:function(ev,cb,when){if(!cb)return this;function c(){if(!when)this.removeListener(ev,c);if(cb.apply(this,arguments)&&when)this.removeListener(ev,c)}c.cb=cb;this.on(ev,c);return this}};M.mixin=function(dest){var o=M.prototype,k;for(k in o){o.hasOwnProperty(k)&&(dest.prototype[k]=o[k])}};module.exports=M;
}
};
miniq = r("index.js");}());
